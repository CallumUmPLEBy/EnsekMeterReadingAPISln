(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[4254],{41564:(ae,U,_)=>{"use strict";_.d(U,{F:()=>s});var v=_(74899),z=_(4252),S=_(74852);function s(L,R,E,X="="){if(!R||!E)throw new Error("Need label to add to query.");const k=i(L);if(!k.length)return L;const W=Q(R,E,X);return u(L,k,W)}function i(L){const R=v.E2.parse(L),E=[];return R.iterate({enter:({to:X,from:k,type:W})=>{if(W.id===v.m6){const I=(0,S._)(L.substring(k,X));return E.push({query:I.query,from:k,to:X}),!1}}}),E}function Q(L,R,E){const X=R===1/0?"+Inf":R.toString();return{label:L,op:E,value:X}}function u(L,R,E){const X=new z.K;let k="",W=0;for(let I=0;I<R.length;I++){const l=R[I],e=I===R.length-1,t=L.substring(W,l.from),a=e?L.substring(l.to):"";C(l.query.labels,E)||l.query.labels.push(E);const n=X.renderQuery(l.query);k+=t+n+a,W=l.to}return k}function C(L,R){return L.find(E=>E.label===R.label&&E.value===R.value)}},36784:(ae,U,_)=>{"use strict";_.d(U,{UQ:()=>O,ZK:()=>e,ZP:()=>f,nW:()=>x,ws:()=>$});var v=_(82897),z=_.n(v),S=_(20707),s=_.n(S),i=_(57706),Q=_.n(i),u=_(46519),C=_(7238),L=_(62163),R=_(62192),E=_(51649),X=_(21899);const k=["job","instance"],W="{}",I=5,l=1e3*60*60*24,e=1e4,t=g=>({label:g}),a=g=>(g.kind="function",g);function n(g,c){const b=Date.now()-l,h=c.filter(M=>M.ts>b&&M.query===g.label),o=h.length,y=h[0];let p=`Queried ${o} times in the last 24h.`;if(y){const M=(0,u.CQ)(y.ts).fromNow();p=`${p} Last queried ${M}.`}return{...g,documentation:p}}function r(g,c){const b={label:g};return c&&c[g]&&(b.documentation=O(g,c)),b}function O(g,c){if(!c[g])return;const{type:b,help:h}=c[g];return`${b.toUpperCase()}: ${h}`}function $(g,c){if(c[g])return c[g].help}function x(g,c){if(c[g])return c[g].type}const d=/(="|!="|=~"|!~"|\{|\[|\(|\+|-|\/|\*|%|\^|\band\b|\bor\b|\bunless\b|==|>=|!=|<=|>|<|=|~|,)/;class f extends C.iL{constructor(c,b){super(),this.labelKeys=[],this.labelsCache=new(s())({max:10}),this.labelValuesCache=new(s())({max:10}),this.request=async(h,o,y={},p)=>{try{return(await this.datasource.metadataRequest(h,y,p)).data.data}catch(M){console.error(M)}return o},this.start=async()=>this.datasource.lookupsDisabled?[]:(await this.fetchLabels(),this.metrics=await this.fetchLabelValues("__name__")||[],await this.loadMetricsMetadata(),this.histogramMetrics=(0,E.NO)(this.metrics).sort(),[]),this.provideCompletionItems=async({prefix:h,text:o,value:y,labelKey:p,wrapperClasses:M},w={})=>{const G={suggestions:[]};if(!y)return G;const A=y.document.text.length===0,q=y.document.getTextsAtRange(y.selection),V=q.size===1?q.first().getText():null,Y=V?V[y.selection.anchor.offset]:null,Z=M.length>3,j=h&&!Z,re=!Y||Y===")",ee=h&&!o.match(/^[\]})\s]+$/)&&re,te=/[+\-*/^%]/,oe=o.match(te);return M.includes("context-range")?this.getRangeCompletionItems():M.includes("context-labels")?this.getLabelCompletionItems({prefix:h,text:o,value:y,labelKey:p,wrapperClasses:M}):M.includes("context-aggregation")?this.getAggregationCompletionItems(y):A?this.getEmptyCompletionItems(w):j&&re&&!oe?this.getBeginningCompletionItems(w):j&&ee?this.getTermCompletionItems():G},this.getBeginningCompletionItems=h=>({suggestions:[...this.getEmptyCompletionItems(h).suggestions,...this.getTermCompletionItems().suggestions]}),this.getEmptyCompletionItems=h=>{const{history:o}=h,y=[];if(o&&o.length){const p=(0,v.chain)(o).map(M=>M.query.expr).filter().uniq().take(I).map(t).map(M=>n(M,o)).value();y.push({searchFunctionType:R.Z.Prefix,skipSort:!0,label:"History",items:p})}return{suggestions:y}},this.getTermCompletionItems=()=>{const{metrics:h,metricsMetadata:o}=this,y=[];return y.push({searchFunctionType:R.Z.Prefix,label:"Functions",items:X.r8.map(a)}),h&&h.length&&y.push({label:"Metrics",items:h.map(p=>r(p,o)),searchFunctionType:R.Z.Fuzzy}),{suggestions:y}},this.getAggregationCompletionItems=async h=>{const o=[];let y;const p=h.document.getBlocks().reduce((j,re)=>{if(j===void 0)return"";if(!re)return j;const ee=re?.getText();return h.anchorBlock.key===re.key&&(y=h.selection.anchor.offset+j.length),j+ee},""),M=p.lastIndexOf("(",y);let w=p.lastIndexOf("(",M-1),G=p.indexOf(")",w);if(w===-1){const j=p.indexOf(")",y);G=p.indexOf(")",j+1),w=p.lastIndexOf("(",G)}const A={suggestions:o,context:"context-aggregation"};if(w===-1)return A;const q=p.slice(w+1,G).replace(/\[[^\]]+\]$/,""),V=(0,E.rV)(q,q.length-2).selector,Y=await this.getSeries(V),Z=Object.keys(Y);if(Z.length>0){const j=(0,E.ZO)(Z);o.push({label:`Labels${j}`,items:Z.map(t),searchFunctionType:R.Z.Fuzzy})}return A},this.getLabelCompletionItems=async({text:h,wrapperClasses:o,labelKey:y,value:p})=>{if(!p)return{suggestions:[]};const M=[],w=p.anchorBlock.getText(),G=p.selection.anchor.offset,A=w.substr(G),q=w.substr(0,G),V=h.match(/^(=|=~|!=|!~)/),Y=A.match(/^"?[,}]|$/),Z=q.match(/(=|=~|!=|!~)$/)&&A.match(/^"/);if(!(V&&Y)&&!(Y&&!V)||Z)return{suggestions:M};let ee,te;try{te=(0,E.rV)(w,G),ee=te.selector}catch{ee=W}const oe=ee.includes("__name__="),ue=te?te.labelKeys:[];let se={};if(ee&&(se=await this.getSeries(ee,!oe)),Object.keys(se).length===0)return console.warn(`Server did not return any values for selector = ${ee}`),{suggestions:M};let ce;if(h&&V||o.includes("attr-value")){if(y&&se[y]){ce="context-label-values";const he=(0,E.ZO)(se[y]);M.push({label:`Label values for "${y}"${he}`,items:se[y].map(t),searchFunctionType:R.Z.Fuzzy})}}else{const he=se?Object.keys(se):oe?null:k;if(he){const de=(0,v.difference)(he,ue);if(de.length){ce="context-labels";const pe=de.map($e=>({label:$e})),_e={label:`Labels${(0,E.ZO)(pe)}`,items:pe,searchFunctionType:R.Z.Fuzzy};M.push(_e)}}}return{context:ce,suggestions:M}},this.fetchLabelValues=async h=>{const o=this.datasource.getTimeRangeParams(),y=`/api/v1/label/${this.datasource.interpolateString(h)}/values`;return await this.request(y,[],o)},this.getSeriesValues=async(h,o)=>this.datasource.hasLabelsMatchAPISupport()?await this.fetchSeriesValuesWithMatch(h,o):(await this.getSeries(o))[h]??[],this.fetchSeriesValuesWithMatch=async(h,o)=>{const y=h?this.datasource.interpolateString(h):null,p=this.datasource.getTimeRangeParams(),M={...p,...o&&{"match[]":o}},G=`/api/v1/label/?${new URLSearchParams({"match[]":y??"",start:(0,E.s4)(parseInt(p.start,10)).toString(),end:(0,E.s4)(parseInt(p.end,10)).toString(),name:h}).toString()}/values`;let A=this.labelValuesCache.get(G);return A||(A=await this.request(`/api/v1/label/${y}/values`,[],M),A&&this.labelValuesCache.set(G,A)),A??[]},this.getSeriesLabels=async(h,o)=>{let y,p;this.datasource.hasLabelsMatchAPISupport()?(o.push({name:"__name__",value:"",op:"!="}),p=await this.fetchSeriesLabelsMatch(h),y=Object.keys(p)):(p=await this.getSeries(h),y=Object.keys(p));const M=new Set(o.map(w=>w.name));return y.filter(w=>!M.has(w))},this.fetchSeriesLabels=async(h,o)=>{const y=this.datasource.interpolateString(h),p=this.datasource.getTimeRangeParams(),M={...p,"match[]":y},w="/api/v1/series",A=`/api/v1/series?${new URLSearchParams({"match[]":y,start:(0,E.s4)(parseInt(p.start,10)).toString(),end:(0,E.s4)(parseInt(p.end,10)).toString(),withName:o?"true":"false"}).toString()}`;let q=this.labelsCache.get(A);if(!q){const V=await this.request(w,[],M),{values:Y}=(0,E.DY)(V,o);q=Y,this.labelsCache.set(A,q)}return q},this.fetchSeriesLabelsMatch=async(h,o)=>{const y=this.datasource.interpolateString(h),p=this.datasource.getTimeRangeParams(),M={...p,"match[]":y},w="/api/v1/labels",G=new URLSearchParams({"match[]":y,start:(0,E.s4)(parseInt(p.start,10)).toString(),end:(0,E.s4)(parseInt(p.end,10)).toString(),withName:o?"true":"false"}),A=`${w}?${G.toString()}`;let q=this.labelsCache.get(A);return q||(q=(await this.request(w,[],M)).reduce((Y,Z)=>({...Y,[Z]:""}),{}),this.labelsCache.set(A,q)),q},this.fetchSeries=async h=>{const o="/api/v1/series",p={...this.datasource.getTimeRangeParams(),"match[]":h};return await this.request(o,{},p)},this.fetchDefaultSeries=(0,v.once)(async()=>{const h=await Promise.all(k.map(o=>this.fetchLabelValues(o)));return k.reduce((o,y,p)=>({...o,[y]:h[p]}),{})}),this.datasource=c,this.histogramMetrics=[],this.timeRange={start:0,end:0},this.metrics=[],Object.assign(this,b)}cleanText(c){return c.split(d).pop().trimLeft().replace(/"$/,"").replace(/^"/,"")}get syntax(){return X.ZP}async loadMetricsMetadata(){this.metricsMetadata=(0,E.I4)(await this.request("/api/v1/metadata",{},{},{showErrorAlert:!1}))}getLabelKeys(){return this.labelKeys}getRangeCompletionItems(){return{context:"context-range",suggestions:[{label:"Range vector",items:[...X.Ty]}]}}importFromAbstractQuery(c){return(0,E.e5)(c)}exportToAbstractQuery(c){const b=c.expr;if(!b||b.length===0)return{refId:c.refId,labelMatchers:[]};const h=Q().tokenize(b,X.ZP),o=(0,E.UO)(h),y=P(b,h);return y&&y.length>0&&o.push({name:"__name__",operator:L.K2.Equal,value:y}),{refId:c.refId,labelMatchers:o}}async getSeries(c,b){if(this.datasource.lookupsDisabled)return{};try{return c===W?await this.fetchDefaultSeries():await this.fetchSeriesLabels(c,b)}catch(h){return console.error(h),{}}}async getLabelValues(c){return await this.fetchLabelValues(c)}async fetchLabels(){const c="/api/v1/labels",b=this.datasource.getTimeRangeParams();this.labelFetchTs=Date.now().valueOf();const h=await this.request(c,[],b);return Array.isArray(h)&&(this.labelKeys=h.slice().sort()),[]}}function P(g,c){let b="";for(let h in c)if(typeof c[h]=="string"){b=c[h];break}return b}},51649:(ae,U,_)=>{"use strict";_.d(U,{DY:()=>L,I4:()=>I,NO:()=>C,PL:()=>f,U9:()=>O,UO:()=>g,ZO:()=>a,e5:()=>P,ll:()=>k,o8:()=>l,rV:()=>X,s4:()=>e,tU:()=>$});var v=_(82897),z=_.n(v),S=_(57706),s=_.n(S),i=_(62163),Q=_(41564),u=_(36784);const C=c=>{const b=new Set,h=new RegExp("_bucket($|:)");for(let o=0;o<c.length;o++){const y=c[o];h.test(y)&&b.add(y)}return[...b]};function L(c,b=!1){const h={};c.forEach(y=>{const{__name__:p,...M}=y;b&&(h.__name__=h.__name__||new Set,h.__name__.has(p)||h.__name__.add(p)),Object.keys(M).forEach(w=>{h[w]||(h[w]=new Set),h[w].has(M[w])||h[w].add(M[w])})});const o={};return t(Object.keys(h)).forEach(y=>{o[y]=t(Array.from(h[y]))}),{values:o,keys:Object.keys(o)}}const R=/\{[^}]*?(\}|$)/,E=/\b(\w+)(!?=~?)("[^"\n]*?")/g;function X(c,b=1){if(!c.match(R)){if(c.match(/^[A-Za-z:][\w:]*$/))return{selector:`{__name__="${c}"}`,labelKeys:["__name__"]};throw new Error("Query must contain a selector: "+c)}const h=c.slice(0,b),o=h.lastIndexOf("{"),y=h.lastIndexOf("}");if(o===-1)throw new Error("Not inside selector, missing open brace: "+h);if(y>-1&&y>o)throw new Error("Not inside selector, previous selector already closed: "+h);const p=c.slice(b),w=p.indexOf("}")+b,G=p.indexOf("{"),A=G+b;if(w===-1)throw new Error("Not inside selector, missing closing brace in suffix: "+p);if(G>-1&&A<w)throw new Error("Not inside selector, next selector opens before this one closed: "+p);const q=c.slice(o,w),V={};q.replace(E,(te,oe,ue,se)=>{const ce=c.indexOf(te),he=ce+oe.length+ue.length+1,de=ce+oe.length+ue.length+se.length-1;return(b<he||b>de)&&(V[oe]={value:se,operator:ue}),""});const Z=c.slice(0,o).match(/[A-Za-z:][\w:]*$/);Z&&(V.__name__={value:`"${Z[0]}"`,operator:"="});const j=Object.keys(V).sort(),ee=["{",j.map(te=>`${te}${V[te].operator}${V[te].value}`).join(","),"}"].join("");return{labelKeys:j,selector:ee}}function k(c,b){const h=Object.keys(b),o=new RegExp(`(\\s|^)(${h.join("|")})(\\s|$|\\(|\\[|\\{)`,"ig"),p=c.replace(o,(G,A,q,V)=>`${A}${b[q]}${V}`).split(/(\+|\-|\*|\/|\%|\^)/),M=/(\)\{|\}\{|\]\{)/;return p.map(G=>W(G,M)).join("")}function W(c,b){const h=c.match(b);if(!h)return c;const o=h.index??0,y=c.slice(0,o+1),p=c.slice(o+1),M=[];p.replace(E,(G,A,q,V)=>(M.push({key:A,operator:q,value:V}),""));let w=y;return M.filter(Boolean).forEach(G=>{const A=G.value.slice(1,-1);w=(0,Q.F)(w,G.key,A,G.operator)}),w}function I(c){if(!c)return c;const b={},h={};for(const y in c){const p=c[y][0];b[y]=p,p.type==="histogram"&&(h[`${y}_bucket`]={type:"counter",help:`Cumulative counters for the observation buckets (${p.help})`},h[`${y}_count`]={type:"counter",help:`Count of events that have been observed for the histogram metric (${p.help})`},h[`${y}_sum`]={type:"counter",help:`Total sum of all observed values for the histogram metric (${p.help})`}),p.type==="summary"&&(h[`${y}_count`]={type:"counter",help:`Count of events that have been observed for the base metric (${p.help})`},h[`${y}_sum`]={type:"counter",help:`Total sum of all observed values for the base metric (${p.help})`})}const o={};return o.ALERTS={type:"counter",help:"Time series showing pending and firing alerts. The sample value is set to 1 as long as the alert is in the indicated active (pending or firing) state."},{...b,...h,...o}}function l(c){return e(c/1e3)}function e(c){return Math.floor(c/60)}function t(c){return c.slice(0,u.ZK)}function a(c){return c&&c.length>=u.ZK?`, limited to the first ${u.ZK} received items`:""}const n=/[*+?()|\\.\[\]{}^$]/g;function r(c){return c.replace(n,"\\$&")}function O(c){return c.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/"/g,'\\"')}function $(c){return O(r(c))}const x={"=":i.K2.Equal,"!=":i.K2.NotEqual,"=~":i.K2.EqualRegEx,"!~":i.K2.NotEqualRegEx},d=(0,v.invert)(x);function f(c){const b=c.labelMatchers.map(h=>{const o=d[h.operator];return o?`${h.name}${o}"${h.value}"`:""}).filter(h=>h!=="").join(", ");return b?`{${b}}`:""}function P(c){return{refId:c.refId,expr:f(c),range:!0}}function g(c){const b=[];for(let h in c)if(c[h]instanceof S.Token){let o=c[h];if(o.type==="context-labels"){let y="",p="",M="",w=o.content;for(let G in w)if(typeof w[G]=="string"){let A;A=w[G],(A==="="||A==="!="||A==="=~"||A==="!~")&&(M=A)}else if(w[G]instanceof S.Token)switch(w[G].type){case"label-key":y=w[G].content;break;case"label-value":p=w[G].content,p=p.substring(1,p.length-1);const A=x[M];A&&b.push({name:y,operator:A,value:p});break}}}return b}},4252:(ae,U,_)=>{"use strict";_.d(U,{K:()=>a,Z:()=>n});var v=_(21899),z=_(12530),S=_(31075),s=_(8373),i=_(62513);function Q(){return[{id:i.G3.HistogramQuantile,name:"Histogram quantile",params:[{name:"Quantile",type:"number",options:[.99,.95,.9,.75,.5,.25]}],defaultParams:[.9],category:i.CM.Functions,renderer:s.pS,addOperationHandler:s.PP},{id:i.G3.LabelReplace,name:"Label replace",params:[{name:"Destination label",type:"string"},{name:"Replacement",type:"string"},{name:"Source label",type:"string"},{name:"Regex",type:"string"}],category:i.CM.Functions,defaultParams:["","$1","","(.*)"],renderer:s.zJ,addOperationHandler:s.PP},{id:i.G3.Ln,name:"Ln",params:[],defaultParams:[],category:i.CM.Functions,renderer:s.pS,addOperationHandler:s.PP},C(i.G3.Changes),C(i.G3.Rate,!0),C(i.G3.Irate),C(i.G3.Increase,!0),C(i.G3.Idelta),C(i.G3.Delta),u({id:i.G3.HoltWinters,params:[(0,s.kq)(),{name:"Smoothing Factor",type:"number"},{name:"Trend Factor",type:"number"}],defaultParams:["$__interval",.5,.5],alternativesKey:"range function",category:i.CM.RangeFunctions,renderer:s.e8,addOperationHandler:E,changeTypeHandler:L}),u({id:i.G3.PredictLinear,params:[(0,s.kq)(),{name:"Seconds from now",type:"number"}],defaultParams:["$__interval",60],alternativesKey:"range function",category:i.CM.RangeFunctions,renderer:s.e8,addOperationHandler:E,changeTypeHandler:L}),u({id:i.G3.QuantileOverTime,params:[(0,s.kq)(),{name:"Quantile",type:"number"}],defaultParams:["$__interval",.5],alternativesKey:"overtime function",category:i.CM.RangeFunctions,renderer:s.NZ,addOperationHandler:E,changeTypeHandler:L}),...z.EX,{id:i.G3.NestedQuery,name:"Binary operation with query",params:[],defaultParams:[],category:i.CM.BinaryOps,renderer:(O,$,x)=>x,addOperationHandler:X},u({id:i.G3.Abs}),u({id:i.G3.Absent}),u({id:i.G3.Acos,category:i.CM.Trigonometric}),u({id:i.G3.Acosh,category:i.CM.Trigonometric}),u({id:i.G3.Asin,category:i.CM.Trigonometric}),u({id:i.G3.Asinh,category:i.CM.Trigonometric}),u({id:i.G3.Atan,category:i.CM.Trigonometric}),u({id:i.G3.Atanh,category:i.CM.Trigonometric}),u({id:i.G3.Ceil}),u({id:i.G3.Clamp,name:"Clamp",params:[{name:"Minimum Scalar",type:"number"},{name:"Maximum Scalar",type:"number"}],defaultParams:[1,1]}),u({id:i.G3.ClampMax,params:[{name:"Maximum Scalar",type:"number"}],defaultParams:[1]}),u({id:i.G3.ClampMin,params:[{name:"Minimum Scalar",type:"number"}],defaultParams:[1]}),u({id:i.G3.Cos,category:i.CM.Trigonometric}),u({id:i.G3.Cosh,category:i.CM.Trigonometric}),u({id:i.G3.DayOfMonth,category:i.CM.Time}),u({id:i.G3.DayOfWeek,category:i.CM.Time}),u({id:i.G3.DaysInMonth,category:i.CM.Time}),u({id:i.G3.Deg}),C(i.G3.Deriv),u({id:i.G3.Exp}),u({id:i.G3.Floor}),u({id:i.G3.Group}),u({id:i.G3.Hour}),u({id:i.G3.LabelJoin,params:[{name:"Destination Label",type:"string",editor:S.g},{name:"Separator",type:"string"},{name:"Source Label",type:"string",restParam:!0,optional:!0,editor:S.g}],defaultParams:["",",",""],renderer:k,addOperationHandler:W}),u({id:i.G3.Log10}),u({id:i.G3.Log2}),u({id:i.G3.Minute}),u({id:i.G3.Month}),u({id:i.G3.Pi,renderer:O=>`${O.id}()`}),u({id:i.G3.Quantile,params:[{name:"Value",type:"number"}],defaultParams:[1],renderer:s.pS}),u({id:i.G3.Rad}),C(i.G3.Resets),u({id:i.G3.Round,category:i.CM.Functions,params:[{name:"To Nearest",type:"number"}],defaultParams:[1]}),u({id:i.G3.Scalar}),u({id:i.G3.Sgn}),u({id:i.G3.Sin,category:i.CM.Trigonometric}),u({id:i.G3.Sinh,category:i.CM.Trigonometric}),u({id:i.G3.Sort}),u({id:i.G3.SortDesc}),u({id:i.G3.Sqrt}),u({id:i.G3.Stddev}),u({id:i.G3.Tan,category:i.CM.Trigonometric}),u({id:i.G3.Tanh,category:i.CM.Trigonometric}),u({id:i.G3.Time,renderer:O=>`${O.id}()`}),u({id:i.G3.Timestamp}),u({id:i.G3.Vector,params:[{name:"Value",type:"number"}],defaultParams:[1],renderer:O=>`${O.id}(${O.params[0]})`}),u({id:i.G3.Year})]}function u(r){return{...r,id:r.id,name:r.name??(0,s.t7)(r.id),params:r.params??[],defaultParams:r.defaultParams??[],category:r.category??i.CM.Functions,renderer:r.renderer??(r.params?s.zJ:s.pS),addOperationHandler:r.addOperationHandler??s.PP}}function C(r,O=!1){return{id:r,name:(0,s.t7)(r),params:[(0,s.kq)(O)],defaultParams:[O?"$__rate_interval":"$__interval"],alternativesKey:"range function",category:i.CM.RangeFunctions,renderer:R,addOperationHandler:E,changeTypeHandler:L}}function L(r,O){return(r.params[0]==="$__rate_interval"&&O.defaultParams[0]!=="$__rate_interval"||r.params[0]==="$__interval"&&O.defaultParams[0]!=="$__interval")&&(r.params=O.defaultParams),r}function R(r,O,$){let x=(r.params??[])[0]??"5m";return`${O.id}(${$}[${x}])`}function E(r,O,$){const x={id:r.id,params:r.defaultParams};return O.operations.length>0&&$.getOperationDef(O.operations[0].id).addOperationHandler===E?{...O,operations:[x,...O.operations.slice(1)]}:{...O,operations:[x,...O.operations]}}function X(r,O){return{...O,binaryQueries:[...O.binaryQueries??[],{operator:"/",query:O}]}}function k(r,O,$){if(typeof r.params[1]!="string")throw"The separator must be a string";const x=`"${r.params[1]}"`;return`${r.id}(${$}, "${r.params[0]}", ${x}, "${r.params.slice(2).join(x)}")`}function W(r,O){const $={id:r.id,params:r.defaultParams};return{...O,operations:[...O.operations,$]}}function I(){return[...(0,s.IT)(i.G3.Sum),...(0,s.IT)(i.G3.Avg),...(0,s.IT)(i.G3.Min),...(0,s.IT)(i.G3.Max),...(0,s.IT)(i.G3.Count),...(0,s.Z3)(i.G3.TopK,{params:[{name:"K-value",type:"number"}],defaultParams:[5]}),...(0,s.Z3)(i.G3.BottomK,{params:[{name:"K-value",type:"number"}],defaultParams:[5]}),...(0,s.Z3)(i.G3.CountValues,{params:[{name:"Identifier",type:"string"}],defaultParams:["count"]}),l(i.G3.SumOverTime),l(i.G3.AvgOverTime),l(i.G3.MinOverTime),l(i.G3.MaxOverTime),l(i.G3.CountOverTime),l(i.G3.LastOverTime),l(i.G3.PresentOverTime),l(i.G3.AbsentOverTime),l(i.G3.StddevOverTime)]}function l(r){return{id:r,name:(0,s.t7)(r),params:[(0,s.kq)()],defaultParams:["$__interval"],alternativesKey:"overtime function",category:i.CM.RangeFunctions,renderer:e,addOperationHandler:E}}function e(r,O,$){let x=(r.params??[])[0]??"$__interval";return`${O.id}(${$}[${x}])`}var t=_(78625);class a extends t.x{constructor(){super(()=>{const O=[...Q(),...I()];for(const $ of O){const x=v.r8.find(d=>d.insertText===$.id);x&&($.documentation=x.documentation)}return O}),this.setOperationCategories([i.CM.Aggregations,i.CM.RangeFunctions,i.CM.Functions,i.CM.BinaryOps,i.CM.Trigonometric,i.CM.Time])}getQueryPatterns(){return[{name:"Rate then sum",type:i.Fz.Rate,operations:[{id:"rate",params:["$__rate_interval"]},{id:"sum",params:[]}]},{name:"Rate then sum by(label) then avg",type:i.Fz.Rate,operations:[{id:"rate",params:["$__rate_interval"]},{id:"__sum_by",params:[""]},{id:"avg",params:[]}]},{name:"Histogram quantile on rate",type:i.Fz.Histogram,operations:[{id:"rate",params:["$__rate_interval"]},{id:"__sum_by",params:["le"]},{id:"histogram_quantile",params:[.95]}]},{name:"Histogram quantile on increase",type:i.Fz.Histogram,operations:[{id:"increase",params:["$__rate_interval"]},{id:"__max_by",params:["le"]},{id:"histogram_quantile",params:[.95]}]},{name:"Binary Query",type:i.Fz.Binary,operations:[{id:"rate",params:["$__rate_interval"]},{id:"sum",params:[]}],binaryQueries:[{operator:"/",query:{metric:"",labels:[],operations:[{id:"rate",params:["$__rate_interval"]},{id:"sum",params:[]}]}}]}]}}const n=new a},12530:(ae,U,_)=>{"use strict";_.d(U,{EX:()=>i,PX:()=>s,iQ:()=>S});var v=_(8373),z=_(62513);const S=[{id:z.G3.Addition,name:"Add scalar",sign:"+"},{id:z.G3.Subtraction,name:"Subtract scalar",sign:"-"},{id:z.G3.MultiplyBy,name:"Multiply by scalar",sign:"*"},{id:z.G3.DivideBy,name:"Divide by scalar",sign:"/"},{id:z.G3.Modulo,name:"Modulo by scalar",sign:"%"},{id:z.G3.Exponent,name:"Exponent",sign:"^"},{id:z.G3.EqualTo,name:"Equal to",sign:"==",comparison:!0},{id:z.G3.NotEqualTo,name:"Not equal to",sign:"!=",comparison:!0},{id:z.G3.GreaterThan,name:"Greater than",sign:">",comparison:!0},{id:z.G3.LessThan,name:"Less than",sign:"<",comparison:!0},{id:z.G3.GreaterOrEqual,name:"Greater or equal to",sign:">=",comparison:!0},{id:z.G3.LessOrEqual,name:"Less or equal to",sign:"<=",comparison:!0}],s=S.reduce((u,C)=>(u[C.sign]={id:C.id,comparison:C.comparison},u),{}),i=S.map(u=>{const C=[{name:"Value",type:"number"}],L=[2];return u.comparison&&(C.push({name:"Bool",type:"boolean",description:"If checked comparison will return 0 or 1 for the value rather than filtering."}),L.push(!1)),{id:u.id,name:u.name,params:C,defaultParams:L,alternativesKey:"binary scalar operations",category:z.CM.BinaryOps,renderer:Q(u.sign),addOperationHandler:v.PP}});function Q(u){return function(L,R,E){let X=L.params[0],k="";return L.params.length===2&&(k=L.params[1]?" bool":""),`${E} ${u}${k} ${X}`}}},31075:(ae,U,_)=>{"use strict";_.d(U,{g:()=>Q});var v=_(68404),z=_(63134),S=_(53217),s=_(4252),i=_(8373);function Q({onChange:C,index:L,operationIndex:R,value:E,query:X,datasource:k}){const[W,I]=(0,v.useState)({});return v.createElement(S.Ph,{inputId:(0,i.i1)(R,L),autoFocus:E===""?!0:void 0,openMenuOnFocus:!0,onOpenMenu:async()=>{I({isLoading:!0});const l=await u(X,k);I({options:l,isLoading:void 0})},isLoading:W.isLoading,allowCustomValue:!0,noOptionsMessage:"No labels found",loadingMessage:"Loading labels",options:W.options,value:(0,z.E)(E),onChange:l=>C(L,l.value)})}async function u(C,L){let R=C.labels;L.type==="prometheus"&&(R=[{label:"__name__",op:"=",value:C.metric},...C.labels]);const E=s.Z.renderLabels(R),X=await L.languageProvider.fetchSeriesLabels(E);return Object.keys(X).map(k=>({label:k,value:k}))}},74852:(ae,U,_)=>{"use strict";_.d(U,{_:()=>s});var v=_(74899),z=_(12530),S=_(44812);function s(l){const e=(0,S.bU)(l),a=v.E2.parse(e).topNode,r={query:{metric:"",labels:[],operations:[]},errors:[]};try{Q(e,a,r)}catch(O){console.error(O),O instanceof Error&&r.errors.push({text:O.message})}return I(r.query)&&(r.errors=[]),i(l)&&(r.errors=[]),r}function i(l){const e={query:{metric:"",labels:[],operations:[]},errors:[]};l=l.replace(/\$__interval/g,"1s"),l=l.replace(/\$__interval_ms/g,"1000"),l=l.replace(/\$__rate_interval/g,"1s"),l=l.replace(/\$__range_ms/g,"1000"),l=l.replace(/\$__range_s/g,"1"),l=l.replace(/\$__range/g,"1s");const a=v.E2.parse(l).topNode;try{Q(l,a,e)}catch{return!1}return e.errors.length===0}function Q(l,e,t){const a=t.query;switch(e.type.id){case v.tz:{a.metric=(0,S.KF)(l,e);break}case v.Zm:{a.labels.push(C(l,e));const n=e.getChild(S._A);n&&t.errors.push((0,S.wf)(l,n));break}case v.lX:{R(l,e,t);break}case v.aZ:{E(l,e,t);break}case v.vU:{k(l,e,t);break}case S._A:{if(u(e))break;t.errors.push((0,S.wf)(l,e));break}default:{e.type.id===v.Om&&t.errors.push((0,S.wf)(l,e));let n=e.firstChild;for(;n;)Q(l,n,t),n=n.nextSibling}}}function u(l){return l.prevSibling?.type.id===v.wi&&l.prevSibling?.firstChild?.type.id===v.m6}function C(l,e){const t=(0,S.KF)(l,e.getChild(v.m0)),a=(0,S.KF)(l,e.getChild(v.e8)),n=(0,S.KF)(l,e.getChild(v.nv)).replace(/"/g,"");return{label:t,op:a,value:n}}const L=["changes","rate","irate","increase","delta"];function R(l,e,t){const a=t.query,n=e.getChild(v.hT),r=(0,S.KF)(l,n),$=e.getChild(v.yY).getChild(v.mW),x=[];let d="";if(L.includes(r)||r.endsWith("_over_time")){let P=(0,S.KF)(l,e).match(/\[(.+)\]/);P?.[1]&&(d=P[1],x.push(P[1]))}const f={id:r,params:x};if(a.operations.unshift(f),$){if((0,S.KF)(l,$)===d+"]")return;X(l,$,t,f)}}function E(l,e,t){const a=t.query,n=e.getChild(v.Ki);let r=(0,S.KF)(l,n);const O=e.getChild(v.Ip),$=[];O&&(O.getChild("By")&&r&&(r=`__${r}_by`),O.getChild(v.yN)&&(r=`__${r}_without`),$.push(...(0,S.ff)(l,O,v.Tm)));const d=e.getChild(v.yY).getChild(v.mW),f={id:r,params:[]};a.operations.unshift(f),X(l,d,t,f),f.params.push(...$)}function X(l,e,t,a){if(e)switch(e.type.id){case v.wi:case v.mW:{let n=e.firstChild;for(;n;)X(l,n,t,a),n=n.nextSibling;break}case v.iy:{a.params.push(parseFloat((0,S.KF)(l,e)));break}case v.nv:{a.params.push((0,S.KF)(l,e).replace(/"/g,""));break}default:Q(l,e,t)}}function k(l,e,t){const a=t.query,n=e.firstChild,r=(0,S.KF)(l,n.nextSibling),O=W(l,e.getChild(v.v3)),$=e.lastChild,x=z.PX[r],d=n.getChild(v.iy),f=$.getChild(v.iy),P=$.getChild(v.vU);if(d||Q(l,n,t),f)a.operations.push((0,S.Es)(x,l,$,!!O?.isBool));else if(P){const g=(0,S.ge)($);g?.type.id===v.iy&&a.operations.push((0,S.Es)(x,l,g,!!O?.isBool)),Q(l,$,t)}else{a.binaryQueries=a.binaryQueries||[];const g={operator:r,query:{metric:"",labels:[],operations:[]}};O?.isMatcher&&(g.vectorMatchesType=O.matchType,g.vectorMatches=O.matches),a.binaryQueries.push(g),Q(l,$,{query:g.query,errors:t.errors})}}function W(l,e){if(e){if(e.getChild("Bool"))return{isBool:!0,isMatcher:!1};{const t=e.getChild(v.Wc);return t?{isMatcher:!0,isBool:!1,matches:(0,S.KF)(l,t.getChild(v.XT)?.getChild(v.pQ)),matchType:t.getChild(v.On)?"on":"ignoring"}:void 0}}}function I(l){return l.labels.length===0&&l.operations.length===0&&!l.metric}},78625:(ae,U,_)=>{"use strict";_.d(U,{x:()=>S});var v=_(64140),z=_(62513);class S{constructor(i){this.categories=[],this.operationsRegistry=new v.B(i)}setOperationCategories(i){this.categories=i}getOperationsForCategory(i){return this.operationsRegistry.list().filter(Q=>Q.category===i&&!Q.hideFromList)}getAlternativeOperations(i){return this.operationsRegistry.list().filter(Q=>Q.alternativesKey&&Q.alternativesKey===i)}getCategories(){return this.categories}getOperationDef(i){return this.operationsRegistry.getIfExists(i)}renderOperations(i,Q){for(const u of Q){const C=this.operationsRegistry.getIfExists(u.id);if(!C)throw new Error(`Could not find operation ${u.id} in the registry`);i=C.renderer(u,C,i)}return i}renderBinaryQueries(i,Q){if(Q)for(const u of Q)i=`${this.renderBinaryQuery(i,u)}`;return i}renderBinaryQuery(i,Q){let u=i+` ${Q.operator} `;return Q.vectorMatches&&(u+=`${Q.vectorMatchesType}(${Q.vectorMatches}) `),u+this.renderQuery(Q.query,!0)}renderLabels(i){if(i.length===0)return"";let Q="{";for(const u of i)Q!=="{"&&(Q+=", "),Q+=`${u.label}${u.op}"${u.value}"`;return Q+"}"}renderQuery(i,Q){let u=`${i.metric??""}${this.renderLabels(i.labels)}`;return u=this.renderOperations(u,i.operations),!Q&&this.hasBinaryOp(i)&&Boolean(i.binaryQueries?.length)&&(u=`(${u})`),u=this.renderBinaryQueries(u,i.binaryQueries),Q&&(this.hasBinaryOp(i)||Boolean(i.binaryQueries?.length))&&(u=`(${u})`),u}hasBinaryOp(i){return i.operations.find(Q=>this.getOperationDef(Q.id)?.category===z.CM.BinaryOps)!==void 0}}},8373:(ae,U,_)=>{"use strict";_.d(U,{IT:()=>e,NZ:()=>E,PP:()=>k,Sp:()=>r,Z3:()=>t,ZI:()=>x,e8:()=>R,i1:()=>I,j8:()=>$,kq:()=>l,pS:()=>u,t7:()=>W,zJ:()=>C});var v=_(82897),z=_.n(v),S=_(64681),s=_.n(S),i=_(31075),Q=_(62513);function u(d,f,P){const g=X(d,f,P),c=d.id+"(";return P&&g.push(P),c+g.join(", ")+")"}function C(d,f,P){const g=X(d,f,P),c=d.id+"(";return P&&g.unshift(P),c+g.join(", ")+")"}function L(d,f,P,g){if(f.params.length<2)throw`Cannot render a function with params of length [${f.params.length}]`;let c=(d.params??[])[0]??"5m";const b=X({...d,params:d.params.slice(1)},{...f,params:f.params.slice(1),defaultParams:f.defaultParams.slice(1)},P),h=d.id+"(";return P&&(g?b.push(`${P}[${c}]`):b.unshift(`${P}[${c}]`)),h+b.join(", ")+")"}function R(d,f,P){return L(d,f,P,!1)}function E(d,f,P){return L(d,f,P,!0)}function X(d,f,P){return(d.params??[]).map((g,c)=>f.params[c].type==="string"?'"'+g+'"':g)}function k(d,f){const P={id:d.id,params:d.defaultParams};return{...f,operations:[...f.operations,P]}}function W(d){return(0,v.capitalize)(d.replace(/_/g," "))}function I(d,f){return`operations.${d}.param.${f}`}function l(d=!1){const f={name:"Range",type:"string",options:[{label:"$__interval",value:"$__interval"},{label:"1m",value:"1m"},{label:"5m",value:"5m"},{label:"10m",value:"10m"},{label:"1h",value:"1h"},{label:"24h",value:"24h"}]};return d&&f.options.unshift({label:"$__rate_interval",value:"$__rate_interval"}),f}function e(d,f={}){return[{id:d,name:W(d),params:[{name:"By label",type:"string",restParam:!0,optional:!0}],defaultParams:[],alternativesKey:"plain aggregations",category:Q.CM.Aggregations,renderer:u,paramChangedHandler:x(`__${d}_by`),explainHandler:r(d,""),addOperationHandler:k,...f},{id:`__${d}_by`,name:`${W(d)} by`,params:[{name:"Label",type:"string",restParam:!0,optional:!0,editor:i.g}],defaultParams:[""],alternativesKey:"aggregations by",category:Q.CM.Aggregations,renderer:a(d),paramChangedHandler:$(d),explainHandler:r(d,"by"),addOperationHandler:k,hideFromList:!0,...f},{id:`__${d}_without`,name:`${W(d)} without`,params:[{name:"Label",type:"string",restParam:!0,optional:!0,editor:i.g}],defaultParams:[""],alternativesKey:"aggregations by",category:Q.CM.Aggregations,renderer:n(d),paramChangedHandler:$(d),explainHandler:r(d,"without"),addOperationHandler:k,hideFromList:!0,...f}]}function t(d,f,P={}){const g=e(d,P);return g[0].params.unshift(...f.params),g[1].params.unshift(...f.params),g[2].params.unshift(...f.params),g[0].defaultParams=f.defaultParams,g[1].defaultParams=[...f.defaultParams,""],g[2].defaultParams=[...f.defaultParams,""],g[1].renderer=O(d),g[2].renderer=O(d),g}function a(d){return function(P,g,c){return`${d} by(${P.params.join(", ")}) (${c})`}}function n(d){return function(P,g,c){return`${d} without(${P.params.join(", ")}) (${c})`}}function r(d,f){return function(g){const c=g.params.map(h=>`\`${h}\``).join(" and "),b=s()("label",g.params.length);switch(f){case"by":return`Calculates ${d} over dimensions while preserving ${b} ${c}.`;case"without":return`Calculates ${d} over the dimensions ${c}. All other labels are preserved.`;default:return`Calculates ${d} over the dimensions.`}}}function O(d){return function(P,g,c){const b=g.params.findIndex(y=>y.restParam),h=P.params.slice(0,b),o=P.params.slice(b);return`${d} by(${o.join(", ")}) (${h.map((y,p)=>g.params[p].type==="string"?`"${y}"`:y).join(", ")}, ${c})`}}function $(d){return function(P,g,c){return g.params.length<c.params.length?{...g,id:d}:g}}function x(d){return function(P,g,c){return g.params.length===c.params.length?{...g,id:d}:g}}},44812:(ae,U,_)=>{"use strict";_.d(U,{Es:()=>L,KF:()=>C,Tt:()=>u,Vl:()=>I,_A:()=>v,bU:()=>i,ff:()=>R,ge:()=>z,wf:()=>S});const v=0;function z(l){return l.firstChild?z(l.firstChild):l}function S(l,e){return{text:C(l,e),from:e.from,to:e.to,parentType:e.parent?.name}}const s=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::([^\}]+))?}/g;function i(l){return l.replace(s,(e,t,a,n,r,O,$)=>{const x=n||$;let d=t,f="0";return a&&(d=a,f="1"),r&&(d=r,f="2"),`__V_${f}__`+d+"__V__"+(x?"__F__"+x+"__F__":"")})}const Q=[(l,e)=>`$${l}`,(l,e)=>`[[${l}${e?`:${e}`:""}]]`,(l,e)=>`\${${l}${e?`:${e}`:""}}`];function u(l){return l.replace(/__V_(\d)__(.+?)__V__(?:__F__(\w+)__F__)?/g,(e,t,a,n)=>Q[parseInt(t,10)](a,n))}function C(l,e){return e?u(l.substring(e.from,e.to)):""}function L(l,e,t,a){const n=[parseFloat(C(e,t))];return l.comparison&&n.push(a),{id:l.id,params:n}}function R(l,e,t){if(e.type.id===t||e.name===t)return[C(l,e)];const a=[];let n=0,r=e.childAfter(n);for(;r;)a.push(...R(l,r,t)),n=r.to,r=e.childAfter(n);return a}function E(l,e){if(!e){console.log("<empty>");return}const t=X(l,e),a=k(t);if(!a){console.log("<empty>");return}console.log(a)}function X(l,e){const t={},a=W(l,e),n=[];let r=0,O=e.childAfter(r);for(;O;)n.push(X(l,O)),r=O.to,O=e.childAfter(r);return t.name=a,t.children=n,t}function k(l,e={lastChild:!0,indent:""}){const t=l.name,{lastChild:a,indent:n}=e;let O=(n!==""?n+(a?"\u2514\u2500":"\u251C\u2500"):"")+t;const $=l.children;return $.forEach((x,d)=>{const f=d===$.length-1;O+=`
`+k(x,{lastChild:f,indent:n+(a?"  ":"\u2502 ")})}),O}function W(l,e){return e.name+": "+C(l,e)}const I=l=>l.split(" ").map(t=>`${t}.*`).join("")},62513:(ae,U,_)=>{"use strict";_.d(U,{CM:()=>v,Fz:()=>S,G3:()=>z});var v=(s=>(s.Aggregations="Aggregations",s.RangeFunctions="Range functions",s.Functions="Functions",s.BinaryOps="Binary operations",s.Trigonometric="Trigonometric",s.Time="Time Functions",s))(v||{}),z=(s=>(s.Abs="abs",s.Absent="absent",s.AbsentOverTime="absent_over_time",s.Acos="acos",s.Acosh="acosh",s.Asin="asin",s.Asinh="asinh",s.Atan="atan",s.Atanh="atanh",s.Avg="avg",s.AvgOverTime="avg_over_time",s.BottomK="bottomk",s.Ceil="ceil",s.Changes="changes",s.Clamp="clamp",s.ClampMax="clamp_max",s.ClampMin="clamp_min",s.Cos="cos",s.Cosh="cosh",s.Count="count",s.CountOverTime="count_over_time",s.CountScalar="count_scalar",s.CountValues="count_values",s.DayOfMonth="day_of_month",s.DayOfWeek="day_of_week",s.DaysInMonth="days_in_month",s.Deg="deg",s.Delta="delta",s.Deriv="deriv",s.DropCommonLabels="drop_common_labels",s.Exp="exp",s.Floor="floor",s.Group="group",s.HistogramQuantile="histogram_quantile",s.HoltWinters="holt_winters",s.Hour="hour",s.Idelta="idelta",s.Increase="increase",s.Irate="irate",s.LabelJoin="label_join",s.LabelReplace="label_replace",s.Last="last",s.LastOverTime="last_over_time",s.Ln="ln",s.Log10="log10",s.Log2="log2",s.Max="max",s.MaxOverTime="max_over_time",s.Min="min",s.MinOverTime="min_over_time",s.Minute="minute",s.Month="month",s.Pi="pi",s.PredictLinear="predict_linear",s.Present="present",s.PresentOverTime="present_over_time",s.Quantile="quantile",s.QuantileOverTime="quantile_over_time",s.Rad="rad",s.Rate="rate",s.Resets="resets",s.Round="round",s.Scalar="scalar",s.Sgn="sgn",s.Sin="sin",s.Sinh="sinh",s.Sort="sort",s.SortDesc="sort_desc",s.Sqrt="sqrt",s.Stddev="stddev",s.StddevOverTime="stddev_over_time",s.Sum="sum",s.SumOverTime="sum_over_time",s.Tan="tan",s.Tanh="tanh",s.Time="time",s.Timestamp="timestamp",s.TopK="topk",s.Vector="vector",s.Year="year",s.Addition="__addition",s.Subtraction="__subtraction",s.MultiplyBy="__multiply_by",s.DivideBy="__divide_by",s.Modulo="__modulo",s.Exponent="__exponent",s.NestedQuery="__nested_query",s.EqualTo="__equal_to",s.NotEqualTo="__not_equal_to",s.GreaterThan="__greater_than",s.LessThan="__less_than",s.GreaterOrEqual="__greater_or_equal",s.LessOrEqual="__less_or_equal",s))(z||{}),S=(s=>(s.Rate="rate",s.Histogram="histogram",s.Binary="binary",s))(S||{})},20707:ae=>{const U=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,v=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new s}abort(){this.signal.dispatchEvent("abort")}},z=typeof AbortSignal=="function",S=typeof v.AbortSignal=="function",s=z?AbortSignal:S?v.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if(t==="abort"){this.aborted=!0;const a={type:t,target:this};this.onabort(a),this._listeners.forEach(n=>n(a),this)}}onabort(){}addEventListener(t,a){t==="abort"&&this._listeners.push(a)}removeEventListener(t,a){t==="abort"&&(this._listeners=this._listeners.filter(n=>n!==a))}},i=new Set,Q=(e,t)=>{const a=`LRU_CACHE_OPTION_${e}`;R(a)&&E(a,`${e} option`,`options.${t}`,l)},u=(e,t)=>{const a=`LRU_CACHE_METHOD_${e}`;if(R(a)){const{prototype:n}=l,{get:r}=Object.getOwnPropertyDescriptor(n,e);E(a,`${e} method`,`cache.${t}()`,r)}},C=(e,t)=>{const a=`LRU_CACHE_PROPERTY_${e}`;if(R(a)){const{prototype:n}=l,{get:r}=Object.getOwnPropertyDescriptor(n,e);E(a,`${e} property`,`cache.${t}`,r)}},L=(...e)=>{typeof process=="object"&&process&&typeof process.emitWarning=="function"?process.emitWarning(...e):console.error(...e)},R=e=>!i.has(e),E=(e,t,a,n)=>{i.add(e);const r=`The ${t} is deprecated. Please use ${a} instead.`;L(r,"DeprecationWarning",e,n)},X=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),k=e=>X(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?W:null:null;class W extends Array{constructor(t){super(t),this.fill(0)}}class I{constructor(t){if(t===0)return[];const a=k(t);this.heap=new a(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class l{constructor(t={}){const{max:a=0,ttl:n,ttlResolution:r=1,ttlAutopurge:O,updateAgeOnGet:$,updateAgeOnHas:x,allowStale:d,dispose:f,disposeAfter:P,noDisposeOnSet:g,noUpdateTTL:c,maxSize:b=0,maxEntrySize:h=0,sizeCalculation:o,fetchMethod:y,fetchContext:p,noDeleteOnFetchRejection:M,noDeleteOnStaleGet:w}=t,{length:G,maxAge:A,stale:q}=t instanceof l?{}:t;if(a!==0&&!X(a))throw new TypeError("max option must be a nonnegative integer");const V=a?k(a):Array;if(!V)throw new Error("invalid max value: "+a);if(this.max=a,this.maxSize=b,this.maxEntrySize=h||this.maxSize,this.sizeCalculation=o||G,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=y||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=p,!this.fetchMethod&&p!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(a).fill(null),this.valList=new Array(a).fill(null),this.next=new V(a),this.prev=new V(a),this.head=0,this.tail=0,this.free=new I(a),this.initialFill=1,this.size=0,typeof f=="function"&&(this.dispose=f),typeof P=="function"?(this.disposeAfter=P,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!g,this.noUpdateTTL=!!c,this.noDeleteOnFetchRejection=!!M,this.maxEntrySize!==0){if(this.maxSize!==0&&!X(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!X(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!d||!!q,this.noDeleteOnStaleGet=!!w,this.updateAgeOnGet=!!$,this.updateAgeOnHas=!!x,this.ttlResolution=X(r)||r===0?r:1,this.ttlAutopurge=!!O,this.ttl=n||A||0,this.ttl){if(!X(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const Y="LRU_CACHE_UNBOUNDED";R(Y)&&(i.add(Y),L("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Y,l))}q&&Q("stale","allowStale"),A&&Q("maxAge","ttl"),G&&Q("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new W(this.max),this.starts=new W(this.max),this.setItemTTL=(n,r,O=U.now())=>{if(this.starts[n]=r!==0?O:0,this.ttls[n]=r,r!==0&&this.ttlAutopurge){const $=setTimeout(()=>{this.isStale(n)&&this.delete(this.keyList[n])},r+1);$.unref&&$.unref()}},this.updateItemAge=n=>{this.starts[n]=this.ttls[n]!==0?U.now():0};let t=0;const a=()=>{const n=U.now();if(this.ttlResolution>0){t=n;const r=setTimeout(()=>t=0,this.ttlResolution);r.unref&&r.unref()}return n};this.getRemainingTTL=n=>{const r=this.keyMap.get(n);return r===void 0?0:this.ttls[r]===0||this.starts[r]===0?1/0:this.starts[r]+this.ttls[r]-(t||a())},this.isStale=n=>this.ttls[n]!==0&&this.starts[n]!==0&&(t||a())-this.starts[n]>this.ttls[n]}updateItemAge(t){}setItemTTL(t,a,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new W(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,a,n,r)=>{if(!X(n))if(r){if(typeof r!="function")throw new TypeError("sizeCalculation must be a function");if(n=r(a,t),!X(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer)");return n},this.addItemSize=(t,a)=>{this.sizes[t]=a;const n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,a){}requireSize(t,a,n,r){if(n||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let a=this.tail;!(!this.isValidIndex(a)||((t||!this.isStale(a))&&(yield a),a===this.head));)a=this.prev[a]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let a=this.head;!(!this.isValidIndex(a)||((t||!this.isStale(a))&&(yield a),a===this.tail));)a=this.next[a]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(const t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(const t of this.indexes())yield this.keyList[t]}*rkeys(){for(const t of this.rindexes())yield this.keyList[t]}*values(){for(const t of this.indexes())yield this.valList[t]}*rvalues(){for(const t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,a={}){for(const n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],a)}forEach(t,a=this){for(const n of this.indexes())t.call(a,this.valList[n],this.keyList[n],this)}rforEach(t,a=this){for(const n of this.rindexes())t.call(a,this.valList[n],this.keyList[n],this)}get prune(){return u("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const a of this.rindexes({allowStale:!0}))this.isStale(a)&&(this.delete(this.keyList[a]),t=!0);return t}dump(){const t=[];for(const a of this.indexes({allowStale:!0})){const n=this.keyList[a],r=this.valList[a],$={value:this.isBackgroundFetch(r)?r.__staleWhileFetching:r};if(this.ttls){$.ttl=this.ttls[a];const x=U.now()-this.starts[a];$.start=Math.floor(Date.now()-x)}this.sizes&&($.size=this.sizes[a]),t.unshift([n,$])}return t}load(t){this.clear();for(const[a,n]of t){if(n.start){const r=Date.now()-n.start;n.start=U.now()-r}this.set(a,n.value,n)}}dispose(t,a,n){}set(t,a,{ttl:n=this.ttl,start:r,noDisposeOnSet:O=this.noDisposeOnSet,size:$=0,sizeCalculation:x=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL}={}){if($=this.requireSize(t,a,$,x),this.maxEntrySize&&$>this.maxEntrySize)return this;let f=this.size===0?void 0:this.keyMap.get(t);if(f===void 0)f=this.newIndex(),this.keyList[f]=t,this.valList[f]=a,this.keyMap.set(t,f),this.next[this.tail]=f,this.prev[f]=this.tail,this.tail=f,this.size++,this.addItemSize(f,$),d=!1;else{const P=this.valList[f];a!==P&&(this.isBackgroundFetch(P)?P.__abortController.abort():O||(this.dispose(P,t,"set"),this.disposeAfter&&this.disposed.push([P,t,"set"])),this.removeItemSize(f),this.valList[f]=a,this.addItemSize(f,$)),this.moveToTail(f)}if(n!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),d||this.setItemTTL(f,n,r),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const a=this.head,n=this.keyList[a],r=this.valList[a];return this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,n,"evict"),this.disposeAfter&&this.disposed.push([r,n,"evict"])),this.removeItemSize(a),t&&(this.keyList[a]=null,this.valList[a]=null,this.free.push(a)),this.head=this.next[a],this.keyMap.delete(n),this.size--,a}has(t,{updateAgeOnHas:a=this.updateAgeOnHas}={}){const n=this.keyMap.get(t);return n!==void 0&&!this.isStale(n)?(a&&this.updateItemAge(n),!0):!1}peek(t,{allowStale:a=this.allowStale}={}){const n=this.keyMap.get(t);if(n!==void 0&&(a||!this.isStale(n))){const r=this.valList[n];return this.isBackgroundFetch(r)?r.__staleWhileFetching:r}}backgroundFetch(t,a,n,r){const O=a===void 0?void 0:this.valList[a];if(this.isBackgroundFetch(O))return O;const $=new v,x={signal:$.signal,options:n,context:r},d=c=>($.signal.aborted||this.set(t,c,x.options),c),f=c=>{if(this.valList[a]===g&&(!n.noDeleteOnFetchRejection||g.__staleWhileFetching===void 0?this.delete(t):this.valList[a]=g.__staleWhileFetching),g.__returned===g)throw c},P=c=>c(this.fetchMethod(t,O,x)),g=new Promise(P).then(d,f);return g.__abortController=$,g.__staleWhileFetching=O,g.__returned=null,a===void 0?(this.set(t,g,x.options),a=this.keyMap.get(t)):this.valList[a]=g,g}isBackgroundFetch(t){return t&&typeof t=="object"&&typeof t.then=="function"&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||t.__returned===null)}async fetch(t,{allowStale:a=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:O=this.ttl,noDisposeOnSet:$=this.noDisposeOnSet,size:x=0,sizeCalculation:d=this.sizeCalculation,noUpdateTTL:f=this.noUpdateTTL,noDeleteOnFetchRejection:P=this.noDeleteOnFetchRejection,fetchContext:g=this.fetchContext,forceRefresh:c=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:a,updateAgeOnGet:n,noDeleteOnStaleGet:r});const b={allowStale:a,updateAgeOnGet:n,noDeleteOnStaleGet:r,ttl:O,noDisposeOnSet:$,size:x,sizeCalculation:d,noUpdateTTL:f,noDeleteOnFetchRejection:P};let h=this.keyMap.get(t);if(h===void 0){const o=this.backgroundFetch(t,h,b,g);return o.__returned=o}else{const o=this.valList[h];if(this.isBackgroundFetch(o))return a&&o.__staleWhileFetching!==void 0?o.__staleWhileFetching:o.__returned=o;if(!c&&!this.isStale(h))return this.moveToTail(h),n&&this.updateItemAge(h),o;const y=this.backgroundFetch(t,h,b,g);return a&&y.__staleWhileFetching!==void 0?y.__staleWhileFetching:y.__returned=y}}get(t,{allowStale:a=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet}={}){const O=this.keyMap.get(t);if(O!==void 0){const $=this.valList[O],x=this.isBackgroundFetch($);return this.isStale(O)?x?a?$.__staleWhileFetching:void 0:(r||this.delete(t),a?$:void 0):x?void 0:(this.moveToTail(O),n&&this.updateItemAge(O),$)}}connect(t,a){this.prev[a]=t,this.next[t]=a}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return u("del","delete"),this.delete}delete(t){let a=!1;if(this.size!==0){const n=this.keyMap.get(t);if(n!==void 0)if(a=!0,this.size===1)this.clear();else{this.removeItemSize(n);const r=this.valList[n];this.isBackgroundFetch(r)?r.__abortController.abort():(this.dispose(r,t,"delete"),this.disposeAfter&&this.disposed.push([r,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return a}clear(){for(const t of this.rindexes({allowStale:!0})){const a=this.valList[t];if(this.isBackgroundFetch(a))a.__abortController.abort();else{const n=this.keyList[t];this.dispose(a,n,"delete"),this.disposeAfter&&this.disposed.push([a,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return u("reset","clear"),this.clear}get length(){return C("length","size"),this.size}static get AbortController(){return v}static get AbortSignal(){return s}}ae.exports=l},74899:(ae,U,_)=>{"use strict";_.d(U,{aZ:()=>Be,Ip:()=>qe,Ki:()=>Ue,v3:()=>He,vU:()=>Ze,f0:()=>ft,M5:()=>gt,wi:()=>We,lX:()=>tt,mW:()=>je,yY:()=>Ye,hT:()=>at,Tm:()=>Ke,pQ:()=>Ie,XT:()=>Ve,xb:()=>it,z5:()=>ut,Zm:()=>Ot,m$:()=>ht,m0:()=>Ne,e8:()=>dt,uM:()=>st,tz:()=>ct,IJ:()=>et,JW:()=>yt,iy:()=>nt,On:()=>Ge,Wc:()=>Je,Om:()=>rt,vD:()=>Fe,nv:()=>ot,m6:()=>lt,yN:()=>ze,E2:()=>ke});var v=_(27765),z=_(46433);let S=0;class s{constructor(m,T,D){this.set=m,this.base=T,this.modified=D,this.id=S++}static define(m){if(m?.base)throw new Error("Can not derive from a modified tag");let T=new s([],null,[]);if(T.set.push(T),m)for(let D of m.set)T.set.push(D);return T}static defineModifier(){let m=new Q;return T=>T.modified.indexOf(m)>-1?T:Q.get(T.base||T,T.modified.concat(m).sort((D,F)=>D.id-F.id))}}let i=0;class Q{constructor(){this.instances=[],this.id=i++}static get(m,T){if(!T.length)return m;let D=T[0].instances.find(N=>N.base==m&&u(T,N.modified));if(D)return D;let F=[],K=new s(F,m,T);for(let N of T)N.instances.push(K);let H=C(T);for(let N of m.set)if(!N.modified.length)for(let le of H)F.push(Q.get(N,le));return K}}function u(B,m){return B.length==m.length&&B.every((T,D)=>T==m[D])}function C(B){let m=[[]];for(let T=0;T<B.length;T++)for(let D=0,F=m.length;D<F;D++)m.push(m[D].concat(B[T]));return m.sort((T,D)=>D.length-T.length)}function L(B){let m=Object.create(null);for(let T in B){let D=B[T];Array.isArray(D)||(D=[D]);for(let F of T.split(" "))if(F){let K=[],H=2,N=F;for(let ne=0;;){if(N=="..."&&ne>0&&ne+3==F.length){H=1;break}let ie=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(N);if(!ie)throw new RangeError("Invalid path: "+F);if(K.push(ie[0]=="*"?"":ie[0][0]=='"'?JSON.parse(ie[0]):ie[0]),ne+=ie[0].length,ne==F.length)break;let Oe=F[ne++];if(ne==F.length&&Oe=="!"){H=0;break}if(Oe!="/")throw new RangeError("Invalid path: "+F);N=F.slice(ne)}let le=K.length-1,J=K[le];if(!J)throw new RangeError("Invalid path: "+F);let fe=new E(D,H,le>0?K.slice(0,le):null);m[J]=fe.sort(m[J])}}return R.add(m)}const R=new z.md;class E{constructor(m,T,D,F){this.tags=m,this.mode=T,this.context=D,this.next=F}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(m){return!m||m.depth<this.depth?(this.next=m,this):(m.next=this.sort(m.next),m)}get depth(){return this.context?this.context.length:0}}E.empty=new E([],2,null);function X(B,m){let T=Object.create(null);for(let K of B)if(!Array.isArray(K.tag))T[K.tag.id]=K.class;else for(let H of K.tag)T[H.id]=K.class;let{scope:D,all:F=null}=m||{};return{style:K=>{let H=F;for(let N of K)for(let le of N.set){let J=T[le.id];if(J){H=H?H+" "+J:J;break}}return H},scope:D}}function k(B,m){let T=null;for(let D of B){let F=D.style(m);F&&(T=T?T+" "+F:F)}return T}function W(B,m,T,D=0,F=B.length){let K=new I(D,Array.isArray(m)?m:[m],T);K.highlightRange(B.cursor(),D,F,"",K.highlighters),K.flush(F)}class I{constructor(m,T,D){this.at=m,this.highlighters=T,this.span=D,this.class=""}startSpan(m,T){T!=this.class&&(this.flush(m),m>this.at&&(this.at=m),this.class=T)}flush(m){m>this.at&&this.class&&this.span(this.at,m,this.class)}highlightRange(m,T,D,F,K){let{type:H,from:N,to:le}=m;if(N>=D||le<=T)return;H.isTop&&(K=this.highlighters.filter(Oe=>!Oe.scope||Oe.scope(H)));let J=F,fe=l(m)||E.empty,ne=k(K,fe.tags);if(ne&&(J&&(J+=" "),J+=ne,fe.mode==1&&(F+=(F?" ":"")+ne)),this.startSpan(m.from,J),fe.opaque)return;let ie=m.tree&&m.tree.prop(NodeProp.mounted);if(ie&&ie.overlay){let Oe=m.node.enter(ie.overlay[0].from+N,1),mt=this.highlighters.filter(ge=>!ge.scope||ge.scope(ie.tree.type)),Qe=m.firstChild();for(let ge=0,ye=N;;ge++){let me=ge<ie.overlay.length?ie.overlay[ge]:null,ve=me?me.from+N:le,Ee=Math.max(T,ye),be=Math.min(D,ve);if(Ee<be&&Qe)for(;m.from<be&&(this.highlightRange(m,Ee,be,F,K),this.startSpan(Math.min(D,m.to),J),!(m.to>=ve||!m.nextSibling())););if(!me||ve>D)break;ye=me.to+N,ye>T&&(this.highlightRange(Oe.cursor(),Math.max(T,me.from+N),Math.min(D,ye),F,mt),this.startSpan(ye,J))}Qe&&m.parent()}else if(m.firstChild()){do if(!(m.to<=T)){if(m.from>=D)break;this.highlightRange(m,T,D,F,K),this.startSpan(Math.min(D,m.to),J)}while(m.nextSibling());m.parent()}}}function l(B){let m=B.type.prop(R);for(;m&&m.context&&!B.matchContext(m.context);)m=m.next;return m||null}const e=s.define,t=e(),a=e(),n=e(a),r=e(a),O=e(),$=e(O),x=e(O),d=e(),f=e(d),P=e(),g=e(),c=e(),b=e(c),h=e(),o={comment:t,lineComment:e(t),blockComment:e(t),docComment:e(t),name:a,variableName:e(a),typeName:n,tagName:e(n),propertyName:r,attributeName:e(r),className:e(a),labelName:e(a),namespace:e(a),macroName:e(a),literal:O,string:$,docString:e($),character:e($),attributeValue:e($),number:x,integer:e(x),float:e(x),bool:e(O),regexp:e(O),escape:e(O),color:e(O),url:e(O),keyword:P,self:e(P),null:e(P),atom:e(P),unit:e(P),modifier:e(P),operatorKeyword:e(P),controlKeyword:e(P),definitionKeyword:e(P),moduleKeyword:e(P),operator:g,derefOperator:e(g),arithmeticOperator:e(g),logicOperator:e(g),bitwiseOperator:e(g),compareOperator:e(g),updateOperator:e(g),definitionOperator:e(g),typeOperator:e(g),controlOperator:e(g),punctuation:c,separator:e(c),bracket:b,angleBracket:e(b),squareBracket:e(b),paren:e(b),brace:e(b),content:d,heading:f,heading1:e(f),heading2:e(f),heading3:e(f),heading4:e(f),heading5:e(f),heading6:e(f),contentSeparator:e(d),list:e(d),quote:e(d),emphasis:e(d),strong:e(d),link:e(d),monospace:e(d),strikethrough:e(d),inserted:e(),deleted:e(),changed:e(),invalid:e(),meta:h,documentMeta:e(h),annotation:e(h),processingInstruction:e(h),definition:s.defineModifier(),constant:s.defineModifier(),function:s.defineModifier(),standard:s.defineModifier(),local:s.defineModifier(),special:s.defineModifier()},y=X([{tag:o.link,class:"tok-link"},{tag:o.heading,class:"tok-heading"},{tag:o.emphasis,class:"tok-emphasis"},{tag:o.strong,class:"tok-strong"},{tag:o.keyword,class:"tok-keyword"},{tag:o.atom,class:"tok-atom"},{tag:o.bool,class:"tok-bool"},{tag:o.url,class:"tok-url"},{tag:o.labelName,class:"tok-labelName"},{tag:o.inserted,class:"tok-inserted"},{tag:o.deleted,class:"tok-deleted"},{tag:o.literal,class:"tok-literal"},{tag:o.string,class:"tok-string"},{tag:o.number,class:"tok-number"},{tag:[o.regexp,o.escape,o.special(o.string)],class:"tok-string2"},{tag:o.variableName,class:"tok-variableName"},{tag:o.local(o.variableName),class:"tok-variableName tok-local"},{tag:o.definition(o.variableName),class:"tok-variableName tok-definition"},{tag:o.special(o.variableName),class:"tok-variableName2"},{tag:o.definition(o.propertyName),class:"tok-propertyName tok-definition"},{tag:o.typeName,class:"tok-typeName"},{tag:o.namespace,class:"tok-namespace"},{tag:o.className,class:"tok-className"},{tag:o.macroName,class:"tok-macroName"},{tag:o.propertyName,class:"tok-propertyName"},{tag:o.operator,class:"tok-operator"},{tag:o.comment,class:"tok-comment"},{tag:o.meta,class:"tok-meta"},{tag:o.invalid,class:"tok-invalid"},{tag:o.punctuation,class:"tok-punctuation"}]),p=147,M=148,w=1,G=2,A=3,q=4,V=5,Y=6,Z=7,j=8,re=9,ee=10,te=11,oe=12,ue=13,se=14,ce=15,he=16,de=17,pe=18,Pe=19,_e=20,$e=21,Te=22,xe=23,Se=24,Me=25,we=26,Le={inf:p,nan:M,bool:w,ignoring:G,on:A,group_left:q,group_right:V,offset:Y},Ce=(B,m)=>Le[B.toLowerCase()]||-1,Re={avg:j,atan2:Z,bottomk:re,count:ee,count_values:te,group:oe,max:ue,min:se,quantile:ce,stddev:he,stdvar:de,sum:pe,topk:Pe,by:_e,without:$e,and:Te,or:xe,unless:Se,start:Me,end:we},Xe=(B,m)=>Re[B.toLowerCase()]||-1,Ae=L({LineComment:o.comment,LabelName:o.labelName,StringLiteral:o.string,NumberLiteral:o.number,Duration:o.number,"Abs Absent AbsentOverTime Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Time Timestamp Vector Year":o.function(o.variableName),"Avg Bottomk Count Count_values Group Max Min Quantile Stddev Stdvar Sum Topk":o.operatorKeyword,"By Without Bool On Ignoring GroupLeft GroupRight Offset Start End":o.modifier,"And Unless Or":o.logicOperator,"Sub Add Mul Mod Div Atan2 Eql Neq Lte Lss Gte Gtr EqlRegex EqlSingle NeqRegex Pow At":o.operator,UnaryOp:o.arithmeticOperator,"( )":o.paren,"[ ]":o.squareBracket,"{ }":o.brace,"\u26A0":o.invalid}),De={__proto__:null,absent_over_time:309,absent:311,abs:313,acos:315,acosh:317,asin:319,asinh:321,atan:323,atanh:325,avg_over_time:327,ceil:329,changes:331,clamp:333,clamp_max:335,clamp_min:337,cos:339,cosh:341,count_over_time:343,days_in_month:345,day_of_month:347,day_of_week:349,day_of_year:351,deg:353,delta:355,deriv:357,exp:359,floor:361,histogram_quantile:363,holt_winters:365,hour:367,idelta:369,increase:371,irate:373,label_replace:375,label_join:377,last_over_time:379,ln:381,log10:383,log2:385,max_over_time:387,min_over_time:389,minute:391,month:393,pi:395,predict_linear:397,present_over_time:399,quantile_over_time:401,rad:403,rate:405,resets:407,round:409,scalar:411,sgn:413,sin:415,sinh:417,sort:419,sort_desc:421,sqrt:423,stddev_over_time:425,stdvar_over_time:427,sum_over_time:429,tan:431,tanh:433,timestamp:435,time:437,vector:439,year:441},ke=v.WQ.deserialize({version:14,states:"6bOYQPOOO'OQPOOOOQO'#C{'#C{O'TQPO'#CzQ'`QQOOOOQO'#De'#DeO'ZQPO'#DdOOQO'#FO'#FOO(mQPO'#FUOYQPO'#FQOYQPO'#FTOOQO'#FW'#FWO.lQSO'#FXO.tQQO'#FVOOQO'#FV'#FVOOQO'#Cy'#CyOOQO'#Df'#DfOOQO'#Dh'#DhOOQO'#Di'#DiOOQO'#Dj'#DjOOQO'#Dk'#DkOOQO'#Dl'#DlOOQO'#Dm'#DmOOQO'#Dn'#DnOOQO'#Do'#DoOOQO'#Dp'#DpOOQO'#Dq'#DqOOQO'#Dr'#DrOOQO'#Ds'#DsOOQO'#Dt'#DtOOQO'#Du'#DuOOQO'#Dv'#DvOOQO'#Dw'#DwOOQO'#Dx'#DxOOQO'#Dy'#DyOOQO'#Dz'#DzOOQO'#D{'#D{OOQO'#D|'#D|OOQO'#D}'#D}OOQO'#EO'#EOOOQO'#EP'#EPOOQO'#EQ'#EQOOQO'#ER'#EROOQO'#ES'#ESOOQO'#ET'#ETOOQO'#EU'#EUOOQO'#EV'#EVOOQO'#EW'#EWOOQO'#EX'#EXOOQO'#EY'#EYOOQO'#EZ'#EZOOQO'#E['#E[OOQO'#E]'#E]OOQO'#E^'#E^OOQO'#E_'#E_OOQO'#E`'#E`OOQO'#Ea'#EaOOQO'#Eb'#EbOOQO'#Ec'#EcOOQO'#Ed'#EdOOQO'#Ee'#EeOOQO'#Ef'#EfOOQO'#Eg'#EgOOQO'#Eh'#EhOOQO'#Ei'#EiOOQO'#Ej'#EjOOQO'#Ek'#EkOOQO'#El'#ElOOQO'#Em'#EmOOQO'#En'#EnOOQO'#Eo'#EoOOQO'#Ep'#EpOOQO'#Eq'#EqOOQO'#Er'#ErOOQO'#Es'#EsOOQO'#Et'#EtOOQO'#Eu'#EuOOQO'#Ev'#EvOOQO'#Ew'#EwOOQO'#Ex'#ExOOQO'#Ey'#EyOOQO'#Ez'#EzOOQO'#E{'#E{QOQPOOO0_QPO'#C|O0dQPO'#DRO'ZQPO,59fO0kQQO,59fO2XQPO,59oO2XQPO,59oO2XQPO,59oO2XQPO,59oO2XQPO,59oO8WQQO,5;hO8]QQO,5;kO8eQPO,5;zOOQO,5:O,5:OOOQO,5;j,5;jO8|QQO,5;lO9TQQO,5;oO:kQPO'#FZO:yQPO,5;sOOQO'#FY'#FYOOQO,5;s,5;sOOQO,5;q,5;qO;RQSO'#C}OOQO,59h,59hO;ZQPO,59mO;cQQO'#DSOOQO,59m,59mOOQO1G/Q1G/QO0_QPO'#DWOAcQPO'#DVOAmQPO'#DVOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOYQPO1G/ZOAwQSO1G1SOOQO1G1V1G1VOBPQQO1G1VOBUQPO'#FOOOQO'#Fb'#FbOOQO1G1f1G1fOBaQPO1G1fOOQO1G1W1G1WOOQO'#F['#F[OBfQPO,5;uOBkQSO1G1_OOQO1G1_1G1_OOQO'#DP'#DPOBsQPO,59iOOQO'#DO'#DOOOQO,59i,59iOYQPO,59nOOQO1G/X1G/XOOQO,59r,59rOHnQPO,59qOHuQPO,59qOJ^QQO7+$uOJnQQO7+$uOLSQQO7+$uOLjQQO7+$uONRQQO7+$uOOQO7+&n7+&nONlQQO7+&tOOQO7+&q7+&qONtQPO7+'QOOQO1G1a1G1aOOQO1G1`1G1`OOQO7+&y7+&yONyQSO1G/TOOQO1G/T1G/TO! RQQO1G/YOOQO1G/]1G/]O! ]QPO1G/]OOQO<<J`<<J`O!'RQPO<<J`OOQO<<Jl<<JlOOQO1G/U1G/UOOQO7+$o7+$oOOQO7+$w7+$wOOQOAN?zAN?z",stateData:"!'W~O$[OSkOS~OWQOXQOYQOZQO[QO]QO^QO_QO`QOaQObQOcQO!ZZO#u_O$XVO$YVO$]XO$``O$aaO$bbO$ccO$ddO$eeO$ffO$ggO$hhO$iiO$jjO$kkO$llO$mmO$nnO$ooO$ppO$qqO$rrO$ssO$ttO$uuO$vvO$wwO$xxO$yyO$zzO${{O$||O$}}O%O!OO%P!PO%Q!QO%R!RO%S!SO%T!TO%U!UO%V!VO%W!WO%X!XO%Y!YO%Z!ZO%[![O%]!]O%^!^O%_!_O%`!`O%a!aO%b!bO%c!cO%d!dO%e!eO%f!fO%g!gO%h!hO%i!iO%j!jO%k!kO%l!lO%m!mO%n!nO%o!oO%p!pO%q!qO%r!rO%s!sO%t!tO%wWO%xWO%yVO%{[O~O!ZZO~Od!vOe!vO$]!wO~OU#QOV!zOf!}Og#OOh!}Ox!zO{!zO|!zO}!zO!O!{O!P!{O!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O$T#RO%u#PO~O$X#TO$Y#TO%y#TOW#xXX#xXY#xXZ#xX[#xX]#xX^#xX_#xX`#xXa#xXb#xXc#xX!Z#xX#u#xX$X#xX$Y#xX$]#xX$`#xX$a#xX$b#xX$c#xX$d#xX$e#xX$f#xX$g#xX$h#xX$i#xX$j#xX$k#xX$l#xX$m#xX$n#xX$o#xX$p#xX$q#xX$r#xX$s#xX$t#xX$u#xX$v#xX$w#xX$x#xX$y#xX$z#xX${#xX$|#xX$}#xX%O#xX%P#xX%Q#xX%R#xX%S#xX%T#xX%U#xX%V#xX%W#xX%X#xX%Y#xX%Z#xX%[#xX%]#xX%^#xX%_#xX%`#xX%a#xX%b#xX%c#xX%d#xX%e#xX%f#xX%g#xX%h#xX%i#xX%j#xX%k#xX%l#xX%m#xX%n#xX%o#xX%p#xX%q#xX%r#xX%s#xX%t#xX%w#xX%x#xX%y#xX%{#xX~Ot#WO%|#ZO~O%{[OU#yXV#yXf#yXg#yXh#yXx#yX{#yX|#yX}#yX!O#yX!P#yX!Q#yX!R#yX!S#yX!T#yX!U#yX!V#yX$T#yX$W#yX%u#yX$_#yX$^#yX~O$]#]O~O$_#aO~PYOd!vOe!vOUnaVnafnagnahnaxna{na|na}na!Ona!Pna!Qna!Rna!Sna!Tna!Una!Vna$Tna$Wna%una$_na$^na~OP#eOQ#cOR#cOWyPXyPYyPZyP[yP]yP^yP_yP`yPayPbyPcyP!ZyP#uyP$XyP$YyP$]yP$`yP$ayP$byP$cyP$dyP$eyP$fyP$gyP$hyP$iyP$jyP$kyP$lyP$myP$nyP$oyP$pyP$qyP$ryP$syP$tyP$uyP$vyP$wyP$xyP$yyP$zyP${yP$|yP$}yP%OyP%PyP%QyP%RyP%SyP%TyP%UyP%VyP%WyP%XyP%YyP%ZyP%[yP%]yP%^yP%_yP%`yP%ayP%byP%cyP%dyP%eyP%fyP%gyP%hyP%iyP%jyP%kyP%lyP%myP%nyP%oyP%pyP%qyP%ryP%syP%tyP%wyP%xyP%yyP%{yP~O#q#kO~O!P#mO#q#lO~Oi#oOj#oO$XVO$YVO%w#nO%x#nO%yVO~O$_#rO~P'`Ox!zOU#waV#waf#wag#wah#wa{#wa|#wa}#wa!O#wa!P#wa!Q#wa!R#wa!S#wa!T#wa!U#wa!V#wa$T#wa$W#wa%u#wa$_#wa$^#wa~O!V#sO$P#sO$Q#sO$R#sO~O$^#uO%|#vO~Ot#wO$_#zO~O$^#{O$_#|O~O$^vX$_vX~P'`OWyXXyXYyXZyX[yX]yX^yX_yX`yXayXbyXcyX!ZyX#uyX$XyX$YyX$]yX$`yX$ayX$byX$cyX$dyX$eyX$fyX$gyX$hyX$iyX$jyX$kyX$lyX$myX$nyX$oyX$pyX$qyX$ryX$syX$tyX$uyX$vyX$wyX$xyX$yyX$zyX${yX$|yX$}yX%OyX%PyX%QyX%RyX%SyX%TyX%UyX%VyX%WyX%XyX%YyX%ZyX%[yX%]yX%^yX%_yX%`yX%ayX%byX%cyX%dyX%eyX%fyX%gyX%hyX%iyX%jyX%kyX%lyX%myX%nyX%oyX%pyX%qyX%ryX%syX%tyX%wyX%xyX%yyX%{yX~OS$OOT$OO~P;mOQ#cOR#cO~P;mO%v$VO%z$WO~O#q$XO~O$X#TO$Y#TO%y#TO~O$]$YO~O#u$ZO~Ot#WO%|$]O~O$^$^O$_$_O~OWyaXyaYyaZya[ya]ya^ya_ya`yaayabyacya!Zya#uya$Xya$Yya$`ya$aya$bya$cya$dya$eya$fya$gya$hya$iya$jya$kya$lya$mya$nya$oya$pya$qya$rya$sya$tya$uya$vya$wya$xya$yya$zya${ya$|ya$}ya%Oya%Pya%Qya%Rya%Sya%Tya%Uya%Vya%Wya%Xya%Yya%Zya%[ya%]ya%^ya%_ya%`ya%aya%bya%cya%dya%eya%fya%gya%hya%iya%jya%kya%lya%mya%nya%oya%pya%qya%rya%sya%tya%wya%xya%yya%{ya~O$]#]O~PB{OS$bOT$bO$]ya~PB{Ox!zOUwqfwqgwqhwq!Owq!Pwq!Qwq!Rwq!Swq!Twq!Uwq!Vwq$Twq$Wwq%uwq$_wq$^wq~OVwq{wq|wq}wq~PISOV!zO{!zO|!zO}!zO~PISOV!zOx!zO{!zO|!zO}!zO!O!{O!P!{OUwqfwqgwqhwq$Twq$Wwq%uwq$_wq$^wq~O!Qwq!Rwq!Swq!Twq!Uwq!Vwq~PKOO!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O~PKOOV!zOf!}Oh!}Ox!zO{!zO|!zO}!zO!O!{O!P!{O!Q!|O!R!|O!S!|O!T!|O!U!|O!V!|O~OUwqgwq$Twq$Wwq%uwq$_wq$^wq~PMQO#q$dO%v$cO~O$_$eO~Ot#wO$_$gO~O$^vi$_vi~P'`O$]#]OWyiXyiYyiZyi[yi]yi^yi_yi`yiayibyicyi!Zyi#uyi$Xyi$Yyi$`yi$ayi$byi$cyi$dyi$eyi$fyi$gyi$hyi$iyi$jyi$kyi$lyi$myi$nyi$oyi$pyi$qyi$ryi$syi$tyi$uyi$vyi$wyi$xyi$yyi$zyi${yi$|yi$}yi%Oyi%Pyi%Qyi%Ryi%Syi%Tyi%Uyi%Vyi%Wyi%Xyi%Yyi%Zyi%[yi%]yi%^yi%_yi%`yi%ayi%byi%cyi%dyi%eyi%fyi%gyi%hyi%iyi%jyi%kyi%lyi%myi%nyi%oyi%pyi%qyi%ryi%syi%tyi%wyi%xyi%yyi%{yi~O%v$iO~O",goto:"(v$VPPPPPPPPPPPPPPPPPPPPPPPPPPPPP$W$v%S%`%f%r%uP%{&U$vP&X&hPPPPPPPPPPP$v&r'OP'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O'O$vP'[$v$vP$v$v'k$v'w(W(g(j(pPPP$vP(sQSOQ#UXQ#VYQ#`!wQ$Q#fQ$R#gQ$S#hQ$T#iQ$U#jR$`#{e_OXY!w#f#g#h#i#j#{eROXY!w#f#g#h#i#j#{Q!xRR#b!yQ#^!vQ#}#cQ$a$OR$h$bR#x#]Q#y#]R$f$^Q!yRQ#SUR#b!xR#_!wQ#f!zQ#g!{Q#h!|Q#i!}R#j#OY#d!z!{!|!}#OR$P#eeUOXY!w#f#g#h#i#j#{eTOXY!w#f#g#h#i#j#{d_OXY!w#f#g#h#i#j#{R#p#ReYOXY!w#f#g#h#i#j#{d]OXY!w#f#g#h#i#j#{R!uPd^OXY!w#f#g#h#i#j#{R#[]R#X[Q#Y[R$[#uR#t#WR#q#R",nodeNames:"\u26A0 Bool Ignoring On GroupLeft GroupRight Offset Atan2 Avg Bottomk Count CountValues Group Max Min Quantile Stddev Stdvar Sum Topk By Without And Or Unless Start End LineComment PromQL Expr AggregateExpr AggregateOp AggregateModifier GroupingLabels GroupingLabelList GroupingLabel LabelName FunctionCallBody FunctionCallArgs BinaryExpr Pow BinModifiers OnOrIgnoring Mul Div Mod Add Sub Eql Gte Gtr Lte Lss Neq FunctionCall FunctionIdentifier AbsentOverTime Identifier Absent Abs Acos Acosh Asin Asinh Atan Atanh AvgOverTime Ceil Changes Clamp ClampMax ClampMin Cos Cosh CountOverTime DaysInMonth DayOfMonth DayOfWeek DayOfYear Deg Delta Deriv Exp Floor HistogramQuantile HoltWinters Hour Idelta Increase Irate LabelReplace LabelJoin LastOverTime Ln Log10 Log2 MaxOverTime MinOverTime Minute Month Pi PredictLinear PresentOverTime QuantileOverTime Rad Rate Resets Round Scalar Sgn Sin Sinh Sort SortDesc Sqrt StddevOverTime StdvarOverTime SumOverTime Tan Tanh Timestamp Time Vector Year MatrixSelector Duration NumberLiteral OffsetExpr ParenExpr StringLiteral SubqueryExpr UnaryExpr UnaryOp VectorSelector MetricIdentifier LabelMatchers LabelMatchList LabelMatcher MatchOp EqlSingle EqlRegex NeqRegex StepInvariantExpr At AtModifierPreprocessors MetricName",maxTerm:228,propSources:[Ae],skippedNodes:[0,27],repeatNodeCount:0,tokenData:"1R~RwX^#lpq#lqr$ars$tst%huv%swx%xxy&gyz&lz{&q{|&v|}&}}!O'S!O!P'Z!P!Q(Z!Q!R(`!R![)W![!]-r!^!_.n!_!`.{!`!a/b!b!c/o!c!}/t!}#O0[#P#Q0a#Q#R0f#R#S/t#S#T0k#T#o/t#o#p0w#q#r0|#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~#qY$[~X^#lpq#l#y#z#l$f$g#l#BY#BZ#l$IS$I_#l$I|$JO#l$JT$JU#l$KV$KW#l&FU&FV#l~$dQ!_!`$j#r#s$o~$oO!V~~$tO$R~~$yU#u~OY$tZr$trs%]s#O$t#O#P%b#P~$t~%bO#u~~%ePO~$t~%mQk~OY%hZ~%h~%xO}~~%}U#u~OY%xZw%xwx%]x#O%x#O#P&a#P~%x~&dPO~%x~&lO$]~~&qO$_~~&vO{~R&}O%xP!OQ~'SO$^~R'ZO%wP!PQP'^P!Q!['aP'fR%yP!Q!['a!g!h'o#X#Y'oP'rR{|'{}!O'{!Q![(RP(OP!Q![(RP(WP%yP!Q![(R~(`O|~R(eZ%yP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#l#m-W#m#n,iR)]Y%yP!O!P'a!Q![)W!g!h'o#W#X){#X#Y'o#[#]*d#a#b*x#g#h+l#k#l+}#m#n,iQ*QP#qQ!Q![*TQ*WS!Q![*T#[#]*d#a#b*x#g#h+lQ*iP#qQ!Q![*lQ*oR!Q![*l#a#b*x#g#h+lQ*}Q#qQ!Q![+T#g#h+gQ+WR!Q![+T#a#b+a#g#h+lQ+dP#g#h+gQ+lO#qQQ+qP#qQ!Q![+tQ+wQ!Q![+t#a#b+aQ,SP#qQ!Q![,VQ,YT!Q![,V#W#X){#[#]*d#a#b*x#g#h+lQ,nP#qQ!Q![,qQ,tU!Q![,q#W#X){#[#]*d#a#b*x#g#h+l#k#l+}P-ZR!Q![-d!c!i-d#T#Z-dP-iR%yP!Q![-d!c!i-d#T#Z-dV-yT%zS!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.YR._T!ZR!Q![.Y![!].Y!c!}.Y#R#S.Y#T#o.Y~.sP!U~!_!`.v~.{O!T~~/QQ$PP!_!`/W#r#s/]Q/]O!QQ~/bO$Q~~/gP!S~!_!`/j~/oO!R~~/tO$T~V/{T!ZRtS!Q![/t![!].Y!c!}/t#R#S/t#T#o/t~0aO%u~~0fO%v~~0kOx~~0nRO#S0k#S#T%]#T~0k~0|O%{~~1RO%|~",tokenizers:[0,1,2],topRules:{PromQL:[0,28],MetricName:[1,145]},specialized:[{term:57,get:(B,m)=>Ce(B)<<1},{term:57,get:(B,m)=>Xe(B)<<1|1},{term:57,get:B=>De[B]||-1}],tokenPrec:0}),pt=147,_t=148,$t=1,vt=2,Ge=3,bt=4,Pt=5,Qt=6,Et=7,Tt=8,xt=9,St=10,Mt=11,wt=12,Lt=13,Ct=14,Rt=15,Xt=16,At=17,Dt=18,kt=19,Gt=20,ze=21,zt=22,Ft=23,Wt=24,Bt=25,Ut=26,qt=27,Fe=28,We=29,Be=30,Ue=31,qe=32,Ve=33,Ie=34,Ke=35,Ne=36,Ye=37,je=38,Ze=39,Vt=40,He=41,Je=42,It=43,Kt=44,Nt=45,Yt=46,jt=47,Zt=48,Ht=49,Jt=50,ea=51,ta=52,et=53,tt=54,at=55,aa=56,it=57,ia=58,sa=59,na=60,ra=61,oa=62,la=63,ca=64,ha=65,ua=66,Oa=67,da=68,ga=69,fa=70,ya=71,ma=72,pa=73,_a=74,$a=75,va=76,ba=77,Pa=78,Qa=79,Ea=80,Ta=81,xa=82,Sa=83,Ma=84,wa=85,La=86,Ca=87,Ra=88,Xa=89,Aa=90,Da=91,ka=92,Ga=93,za=94,Fa=95,Wa=96,Ba=97,Ua=98,qa=99,Va=100,Ia=101,Ka=102,Na=103,Ya=104,ja=105,Za=106,Ha=107,Ja=108,ei=109,ti=110,ai=111,ii=112,si=113,ni=114,ri=115,oi=116,li=117,ci=118,hi=119,ui=120,Oi=121,di=122,gi=123,st=124,fi=125,nt=126,yi=127,rt=128,ot=129,mi=130,pi=131,_i=132,lt=133,ct=134,ht=135,ut=136,Ot=137,dt=138,gt=139,ft=140,yt=141,$i=142,vi=143,bi=144,Pi=145}}]);

//# sourceMappingURL=4254.aaefe17e9b7c61f721bc.js.map